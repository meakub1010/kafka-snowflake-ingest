
## Architecture Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                             CLIENT LAYER                                    │
│                         ┌───────────────────┐                               │
│                         │   End User        │                               │
│                         │   (CSV Upload)    │                               │
│                         └─────────┬─────────┘                               │
└───────────────────────────────────┼─────────────────────────────────────────┘
                                    │
                        [1] Upload CSV File
                                    │
┌───────────────────────────────────▼─────────────────────────────────────────┐
│                              API LAYER                                      │
│                         ┌───────────────────┐                               │
│                         │   REST API        │                               │
│                         │   POST /upload    │                               │
│                         └─────────┬─────────┘                               │
└───────────────────────────────────┼─────────────────────────────────────────┘
                                    │
                     [2] Initiate Processing
                                    │
┌───────────────────────────────────▼────────────────────────────────────────┐
│                        EVENT STREAMING LAYER                               │
│                                                                            │
│  ┌──────────────────┐        ┌──────────────┐        ┌──────────────────┐  │
│  │ File Processor   │  [3]   │    Kafka     │  [4]   │ Kafka Consumer   │  │
│  │ (Producer)       │───────▶│  localhost   │───────▶│ (App Module)     │  │
│  │ Parse & Publish  │Publish │    :9092     │Stream  │ Consume & Load   │  │
│  └──────────────────┘        └──────────────┘        └────────┬─────────┘  │
└───────────────────────────────────────────────────────────┼────────────────┘
                                                            │
                                                   [5] Bulk Insert
                                                            │
┌───────────────────────────────────────────────────────────▼─────────────────┐
│                          SNOWFLAKE PLATFORM                                 │
│                                                                             │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │                         STAGING LAYER                                  │ │
│  │  ┌────────────────────┐            ┌────────────────────────────┐      │ │
│  │  │  Staging Area      │    [6]     │  Staging Stream            │      │ │
│  │  │TRANSACTIONS_STAGING│───────────▶│  TRANSACTION_STAGING_STREAM│      │ │
│  │  │  (Landing Zone)    │  stream    │  (Change Capture)          │      │ │
│  │  └────────────────────┘            └──────────────┬─────────────┘      │ │
│  └────────────────────────────────────────────────────┼───────────────────┘ │
│                                                       │                     │
│                                             [7] Trigger Task                │
│                                                       │                     │
│  ┌────────────────────────────────────────────────────▼──────────────────┐  │
│  │                       PROCESSING LAYER                                │  │
│  │  ┌────────────────────┐            ┌────────────────────────────┐     │  │
│  │  │  Snowflake Task    │    [8]     │  Transactions Table        │     │  │
│  │  │  LOAD_             │───────────▶│  TRANSACTIONS              │     │  │
│  │  │  TRANSACTIONS_TASK │   Insert   │  (Enriched Data)           │     │  │
│  │  └────────────────────┘            └──────────────┬─────────────┘     │  │
│  └───────────────────────────────────────────────────┼───────────────────┘  │
│                                                      │                      │
│                                              [9] Query Views                │
│                       ┌────────────────────────┼───────────────┐            │
│                       │                        │               │            │
│  ┌────────────────────▼────────────────────────▼───────────────▼───────┐    │
│  │                        ANALYTICS LAYER                              │    │
│  │  ┌──────────────┐  ┌─────────────────────┐  ┌──────────────────┐    │    │
│  │  │   View 1     │  │      View 2         │  │     View 3       │    │    │
│  │  │   TRADER_    │  │   ACCOUNTANT_       │  │   INVESTOR_      │    │    │
│  │  │   POSITIONS  │  │   MARKET_VALUE      │  │   ROR            │    │    │
│  │  └──────┬───────┘  └──────────┬──────────┘  └────────┬─────────┘    │    │
│  └─────────┼─────────────────────┼──────────────────────┼──────────────┘    │
│            │                     │                      │                   │
│            └─────────────────────┼──────────────────────┘                   │
│                        [10] Display Tiles                                   │
│  ┌───────────────────────────────▼───────────────────────────────────────┐  │
│  │                     VISUALIZATION LAYER                               │  │
│  │                   ┌────────────────────────┐                          │  │
│  │                   │  Snowflake Dashboard   │                          │  │
│  │                   │  ┌──────┐  ┌──────┐    │                          │  │
│  │                   │  │Tile 1│  │Tile 2│    │                          │  │
│  │                   │  └──────┘  └──────┘    │                          │  │
│  │                   │  ┌──────┐              │                          │  │
│  │                   │  │Tile 3│              │                          │  │
│  │                   │  └──────┘              │                          │  │
│  │                   └────────────────────────┘                          │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────────────────┘
```